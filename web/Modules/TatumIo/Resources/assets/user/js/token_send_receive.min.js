"use strict";function restrictNumberToPrefdecimalOnInput(e){let t=$.trim(e.value);if(t.length>0&&!isNaN(t))return e.value=digitCheck(t,8,tokenDecimals),e.value}function determineDecimalPoint(){var e=$("select#currency_id").find(":selected").data("type");"crypto"==e?($(".pFees, .fFees, .total_fees").text(CRYPTODP),$("#amount").attr("placeholder",CRYPTODP)):"fiat"==e&&($(".pFees, .fFees, .total_fees").text(FIATDP),$("#amount").attr("placeholder",FIATDP))}function printFunc(){window.print()}if($(".main-containt").find("#crypto-send-create").length){var amount,receiverAddress,priority="slow",receiverAddressValidationError=$(".receiver-address-validation-error"),amountValidationError=$(".amount-validation-error"),receiverAddressErrorFlag=!1,amountErrorFlag=!1;function checkSubmitBtn(){receiverAddressErrorFlag||amountErrorFlag?$("#crypto-send-submit-btn").attr("disabled",!0):$("#crypto-send-submit-btn").attr("disabled",!1)}let e=$("#network").data("type");function checkAddressValidity(e,t){return new Promise(function(r,n){$.ajax({method:"GET",url:validateAddressUrl,dataType:"json",data:{receiverAddress:e,walletCurrencyCode:t,network:network},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done(function(e){swal.close(),200!=e.status?(receiverAddressValidationError.text(e.message),receiverAddressErrorFlag=!0,checkSubmitBtn()):(receiverAddressValidationError.text(""),receiverAddressErrorFlag=!1,checkSubmitBtn()),r(e.status)}).fail(function(e){return swal.close(),e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText),n(e),!1})})}function checkMinimumAmount(e){amountValidationError.text(e),receiverAddressErrorFlag=!0,amountErrorFlag=!0,checkSubmitBtn()}function checkAmountValidity(e,t,r,n){return new Promise(function(t,o){("DOGE"==n||"DOGETEST"==n)&&e<2?checkMinimumAmount(`${minCryptoAmount.replace(":x","2 "+n)}`):("BTC"==n||"BTCTEST"==n)&&e<2e-5?checkMinimumAmount(`${minCryptoAmount.replace(":x",2e-5+" "+n)}`):("LTC"==n||"LTCTEST"==n)&&e<2e-4?checkMinimumAmount(`${minCryptoAmount.replace(":x",2e-4+" "+n)}`):$.ajax({method:"GET",url:validateBalanceUrl,dataType:"json",data:{walletId:walletId,amount:e,tokenAddress:tokenAddress,receiverAddress:r,walletCurrencyCode:n,network:network,tokenDecimals:tokenDecimals},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done(function(e){swal.close(),401==e.status?(amountValidationError.text(e.message),amountErrorFlag=!0,checkSubmitBtn()):(amountValidationError.text(""),receiverAddressErrorFlag=!1,amountErrorFlag=!1,checkSubmitBtn()),t()}).fail(function(e){return swal.close(),e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText),o(e),!1})})}"crypto"!=e&&"crypto_asset"!=e||$("#amount").attr("placeholder",CRYPTODP),$(window).on("load",function(e){var t=window.localStorage.getItem("previousUserCrytoSentUrl"),r=cryptoSendConfirmUrl,n=window.localStorage.getItem("user-crypto-sent-amount"),o=window.localStorage.getItem("user-crypto-receiver-address"),s=window.localStorage.getItem("priority");r==t&&null!=n&&null!=o&&(swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}),$(".amount").val(n),$(".receiverAddress").val(o),$(".priority").val(s),checkAmountValidity($(".amount").val().trim(),senderAddress,$(".receiverAddress").val().trim(),walletCurrencyCode).then(()=>{$("#crypto-send-submit-btn").attr("disabled",!1),$(".spinner").hide(),$("#crypto-send-submit-btn-txt").html(sendBtn),window.localStorage.removeItem("user-crypto-sent-amount"),window.localStorage.removeItem("user-crypto-receiver-address"),window.localStorage.removeItem("priority"),window.localStorage.removeItem("previousUserCrytoSentUrl"),swal.close()}).catch(e=>{swal.close(),e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText)}))}),$(document).on("keyup",".receiverAddress",$.debounce(1e3,function(e){receiverAddress=$(this).val().trim(),amount=$(".amount").val().trim(),0==receiverAddress.length?(receiverAddressValidationError.text(""),receiverAddressErrorFlag=!1,checkSubmitBtn()):checkAddressValidity(receiverAddress,walletCurrencyCode).then(e=>{amount.length>0&&!isNaN(amount)&&200==e&&checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode)}).catch(e=>{e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText)})})),$(document).on("keyup",".amount",$.debounce(700,function(e){amount=$(this).val().trim(),receiverAddress=$(".receiverAddress").val().trim(),amount.length>0&&receiverAddress.length>0&&!isNaN(amount)?checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode).then(e=>{""!=receiverAddress&&200==e&&checkAddressValidity(receiverAddress,walletCurrencyCode)}).catch(e=>{e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText)}):(amountValidationError.text(""),amountErrorFlag=!1,checkSubmitBtn())})),$("#priority").on("change",function(){amount=$(".amount").val().trim(),receiverAddress=$(".receiverAddress").val().trim(),amount.length>0&&receiverAddress.length>0&&!isNaN(amount)?checkAmountValidity(amount,senderAddress,receiverAddress,walletCurrencyCode).then(e=>{""!=receiverAddress&&200==e&&checkAddressValidity(receiverAddress,walletCurrencyCode)}).catch(e=>{e.responseText.hasOwnProperty("message")?alert(JSON.parse(e.responseText).message):alert(e.responseText)}):(amountValidationError.text(""),amountErrorFlag=!1,checkSubmitBtn())}),$("#crypto-send-form").on("submit",function(){$("#crypto-send-submit-btn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#crypto-send-submit-btn-txt").text(submitBtnText),window.localStorage.setItem("user-crypto-sent-amount",$(".amount").val().trim()),window.localStorage.setItem("user-crypto-receiver-address",$(".receiverAddress").val().trim()),window.localStorage.setItem("priority",$(".priority").val().trim())})}if($(".main-containt").find("#crypto-send-confirm").length&&$("#cryptoSendConfirmForm").on("submit",function(){$("#cryptoSendConfirmBtn").attr("disabled",!0),$("#cryptoSendBackBtn").removeAttr("href"),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#cryptoSendConfirmBtnText").text(confirmBtnText)}),$(".main-containt").find("#crypto-send-success").length){function disable_f5(e){116==(e.which||e.keyCode)&&e.preventDefault()}function disable_ctrl_r(e){82==e.keyCode&&e.ctrlKey&&e.preventDefault()}$(document).ready(function(){window.history.pushState(null,"",window.location.href),window.onpopstate=function(){window.history.pushState(null,"",window.location.href)}}),$(document).ready(function(){$(document).bind("keydown",disable_f5)}),$(document).ready(function(){$(document).bind("keydown",disable_ctrl_r)})}$(".main-containt").find("#crypto-receive-create").length&&($(window).on("load",function(e){jQuery("#wallet-address").qrcode({text:addressText})}),$(document).on("click",".wallet-address-copy-btn",function(){$("#wallet-address-input").select(),document.execCommand("copy"),swal({title:copied,text:addressCopyText,type:"info",icon:"success",closeOnClickOutside:!1,closeOnEsc:!1})}));